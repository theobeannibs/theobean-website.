<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THEOBEAN - Cacao Farming Investment</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <nav>
            <div class="logo">THEOBEAN</div>
            <ul>
                <li><a href="#about">About</a></li>
                <li><a href="#farmers">For Farmers</a></li>
                <li><a href="#investors">For Investors</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="hero">
            <h1>Connecting Cacao Farmers with Global Investors</h1>
            <p>Sustainable farming meets transparent investment. Grow with us.</p>
            <a href="#investors" class="cta-button">Become an Investor</a>
        </section>

        <section id="about">
            <h2>Our Mission</h2>
            <p>THEOBEAN was founded on a simple principle: to create a direct, transparent, and mutually beneficial link between the hardworking cacao farmers of the Dominican Republic and investors who are passionate about sustainable agriculture and ethical business. We empower farmers with the resources they need to thrive while offering investors a unique opportunity to be part of a growing legacy.</p>
        </section>

        <section id="farmers">
            <h2>For Farmers: Secure Your Future</h2>
            <p>Are you a cacao farmer looking for funding to expand your operations, improve your crops, or secure a stable future? Join our network.</p>
            <div class="form-container">
                <h3>Register Your Farm Today</h3>
                <p>Register via WhatsApp by clicking the button below or by sending "Register" to our number. It's fast, easy, and secure.</p>
                <a href="https://wa.me/YOUR_WHATSAPP_NUMBER?text=Register" class="whatsapp-button" target="_blank">Register with WhatsApp</a>
                <form id="farmer-registration-form">
                    <h4>Or Register Here:</h4>
                    <div id="form-feedback"></div>
                    <label for="name">Full Name:</label>
                    <input type="text" id="name" name="name" required>

                    <label for="phone">Phone Number (WhatsApp ):</label>
                    <input type="tel" id="phone" name="phone" required>

                    <label for="farm-size">Farm Size (in acres):</label>
                    <input type="number" id="farm-size" name="farm-size" required>

                    <label for="location">Location (City/Province):</label>
                    <input type="text" id="location" name="location" required>

                    <button type="submit">Submit Registration</button>
                </form>
            </div>
        </section>

        <section id="investors">
            <h2>For Investors: A Ground-Floor Opportunity</h2>
            <p>Invest in the future of sustainable cacao farming. Our platform provides you with direct access to vetted farming projects, complete with transparent reporting and a secure investment portal.</p>
            <div class="investor-area">
                <h3>Secure Investor Area</h3>
                <p>Access to this area is restricted. Please log in to view investment opportunities and manage your portfolio.</p>
                <button disabled>Login (Coming Soon)</button>
            </div>
        </section>
    </main>

    <footer id="contact">
        <p>&copy; 2025 THEOBEAN. All rights reserved.</p>
        <p>Contact us: <a href="mailto:contact@theobean.io">contact@theobean.io</a></p>
    </footer>

    <script>
        document.getElementById('farmer-registration-form').addEventListener('submit', async function(event) {
            event.preventDefault();
            const form = event.target;
            const formData = new FormData(form);
            const data = Object.fromEntries(formData.entries());
            const feedbackEl = document.getElementById('form-feedback');

            feedbackEl.textContent = 'Submitting...';
            feedbackEl.style.color = 'black';

            try {
                const response = await fetch('/.netlify/functions/register-farmer', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });

                const result = await response.json();

                if (response.ok) {
                    feedbackEl.textContent = 'Registration successful! We will contact you on WhatsApp shortly.';
                    feedbackEl.style.color = 'green';
                    form.reset();
                } else {
                    throw new Error(result.message || 'An unknown error occurred.');
                }
            } catch (error) {
                feedbackEl.textContent = 'Error: ' + error.message;
                feedbackEl.style.color = 'red';
            }
        });
    </script>
</body>
</html>
